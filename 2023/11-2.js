
import { sqrt } from "mathjs";
import { generateArray, getAlgorithm, p, print2DArray } from "../helper.js";
import { round } from "mathjs";
import { abs } from "mathjs";
let lines = `........#.........................................................................................................#..................#......
.............#.......................#....................................#......#......................#.......................#...........
...............................#...........#...........................................................................#....................
.........................#...........................#.......................................#...........................................#..
.....#...............................................................................#......................................................
....................................................................................................................................#.......
...........................................................#..............................#................#.......#........................
..........#..........#............#..................................#......#...............................................................
.........................................#..................................................................................................
#..............#.............#.......................#........................................#.......................#.....................
......#..........................................................................#......#...........#.......................................
................................................................................................................#...........................
............#...........#...............................#..............#...................................#................................
....................................#................................................#.....................................#................
...#.............#..............................................#...........................................................................
.......................................................................................................#....................................
.........#.....................#...............................................................#............................................
.........................................................................................................................................#..
#...............................................................................#.....................................#.....................
......#...........#.................#..........#.........................................#..................................................
...........#............#..............................#..............#..........................................#..........................
...................................................................................#..............#...........................#.............
..................................................#.........................................................................................
.............................................#............................................................................#.............#...
.........................................................................................................#..................................
.....#........................#...........................#.....#..............#............#...............................................
................#................................................................................................................#..........
................................................#.............................................................#.............................
..........................#..........#.......................#.....................#.....#...........#......................................
............#......#........................#.....................#.....#.....................#........................#...................#
............................................................................................................................................
................................#.......................#...................................................................#...............
.....#...................................#...................................................................#........................#.....
....................................#.......................#...............................................................................
.............................................#................................#................#................................#...........
#.....................#.................................................#............................#......................................
.....................................................#............................................................#.......#.........#.......
..................#............................................#...........................................................................#
...............................#.......#..................................................................#.................................
............#..............................................................#.................................................#..............
...................................#........................................................#...............................................
#....................#......................................................................................................................
......#....................................................#.......................................#........................................
...................................................................#...........#...............................................#.....#......
.............................#..................#................................................................#..........................
...................#...............................................................#......................................#.................
............................................................................................................................................
............................................#....................#.................................................................#........
........#......#...............#.......#...........#.........................................#..............................................
........................................................................................#.........#........#................................
............................................................................................................................................
..#..............................................................................#..........................................................
..................................#.......................#.............................................#........#.....................#....
.............#...............#..............#.....................................................................................#.........
............................................................................................................................................
.....................................#.............................#....................#...................................................
..........#.................................................................................................................................
.....#...........................#.......#...............................#..........#........#...............#.....#......#.................
................................................#..................................................#........................................
#.......................................................................................................................................#...
............................................................................................................................................
.....................#................................#........................................#...........#................................
...........#..............#..........................................#......................................................................
....................................#...........................#...............#....................#................#............#......#.
......#..............................................................................#......................................#...............
..............#.................#..............#..........................................#.................................................
...........................................................#.............#..................................................................
.#......................................................................................................................................#...
...............................................................................#.........................#.....#..................#.........
.................................................................#...............................#...................#......................
.......#.........#.....#..................#..........#...............................#......................................................
...........................................................................................................................#................
.............................#........#......................#..............................................#............................#..
........................................................#..........................................#...............#........................
...............................................................................#...................................................#........
............#...................#.......................................................................#...................................
......#....................#................#.........................#.................#.....#.............................................
...................................................#........................................................................................
.....................#...............#.....................................#.............................................#.................#
.........#.........................................................#.................................#......................................
............................................................................................................................................
............................................................................................................................................
.....#...........................................#..........#.....................................#.......#.................................
........................#......#............................................................................................................
..............................................................................#..............#........#.....................................
#.................#.........................#......................................................................#........................
.............#.........................#..................#........................#......................................#.................
........................................................................#...................................................................
....#...................................................................................................#.................................#.
.....................#.............................................#............#.......#.......................................#...........
...............................................#............#..................................#............................................
..............#................#...........................................#............................................#...................
.#.....#....................................................................................................................................
...........................#........#..................#.........#..................................................................#.......
...............................................................................................................................#............
....................#......................#.......................................#...........................#............................
..........#........................................#..........#...............#...................#.........................................
..................................#......................................................................#.................#................
.......................#......................................................................#......................#......................
..................#............................#.................#......#...................................................................
.................................................................................#.............................................#............
............#.................#......#..............................................................................................#.....#.
#.....................................................#....................#.........#..........................#...........................
.....#.....................................#................#...............................................................................
..................................#.........................................................................................#..........#....
................#.......................................................................#......#............................................
........................................#...................................................................................................
.........#.............#.......................#.......................................................#............................#.......
..............................................................................#.............................................................
#.............................#....................................................#........................................................
......................................#.....................#.....................................................#..............#..........
..................................................................#.......................#................#...............................#
...................#..............#...................#..............................................#..................#...................
................................................................................................#...........................................
.......#.....#..............................................................................................................................
..................................................#.................................................................................#.......
......................#..................#........................................#....................#......#...........................#.
.......................................................#.................#................#................................#................
...........................#.......................................#................................................#.......................
.................................................................................................................................#..........
......#..........................................#.............................#......................................................#.....
...................#....................#............................................#..........#...........................................
...........#.........................................#...........#..........................................#...............................
..#..............................#.........................................#...........................................#....................
......................................................................#.................#...................................................
.......................#...................................................................................................#................
...........................................................#......................#..................#........#.............................
.....#................................#.....#.......................................................................#..............#........
#...............................#........................................#.......................#..........................................
........................................................................................................................#...................
.........................................#..................................................................................................
............#.....................................#..................#......#................#........................................#.....
........................................................#......#.......................................#....................................
........#.........#..................#..................................................#.......................#...........................
................................................................................#........................................#.........#........
............................................................................................................#.................#.............
........................................#......#............................................................................................
....................#..............................................................#............#......................................#....
.........#.....................#.........................................#.............................#.......#............................
...#......................#............................#........#......................#...............................#..........#.........`.split('\n');

const isHorizontalAllDots = (line) => {
  for (const idx in line) {
    if (line[idx] === '#') return false;
  }
  return true;
}
const isVerticalAllDots = (idx) => {
  for(let i =0; i < lines.length; i++) {
    if (lines[i][idx] === '#') return false;
  }
  return true;
}


let start = []
let rDotIndexes = new Set();
let cDotIndexes = new Set();
const parse = () => {
  for(let idx = 0; idx < lines.length; idx++){
    const line = lines[idx];
    if (isHorizontalAllDots(line)){
      rDotIndexes.add(idx);
    }
  }
  for(let idx = 0; idx < lines[0].length; idx++){
    if (isVerticalAllDots(idx)){
      cDotIndexes.add(idx);
    }
  }
  for(let i = 0; i < lines.length; i++){
    for(let j = 0; j < lines[0].length; j++){
      if (lines[i][j] === '#'){
        start.push([i, j])
      }
    }
  }
}
parse();

const solve = () => {
  const traverseToTarget = (x1, y1, x2, y2) => {
    let steps = 0;
    let passingEmptyPenalty = 1_000_000 - 1;
    while (x1 !== x2 || y1 !== y2){
      if (x1 < x2){
        if (rDotIndexes.has(x1+1)) steps += passingEmptyPenalty;
        x1++;
      } else if (x1 > x2){
        if (rDotIndexes.has(x1-1)) steps += passingEmptyPenalty;
        x1--;
      } else if (y1 < y2){
        if (cDotIndexes.has(y1+1)) steps += passingEmptyPenalty;
        y1++;
      } else if (y1 > y2){
        if (cDotIndexes.has(y1-1)) steps += passingEmptyPenalty;
        y1--;
      }
      steps++;

    }
    return steps;
  }
  const seen = {};
  let sum =0;
  for(let i = 0; i < start.length; i++){
    const [x1, y1] = start[i];

    for(let j = 0; j < start.length; j++){
      const [x2, y2] = start[j];
      if (!seen[`${x1},${y1}-${x2},${y2}`] && i !== j){

        const distance = traverseToTarget(x1, y1, x2, y2);
        sum += distance;
        seen[`${x1},${y1}-${x2},${y2}`] = true;
        seen[`${x2},${y2}-${x1},${y1}`] = true;

      }

    }
  }
  p('ans', sum)
}


solve();